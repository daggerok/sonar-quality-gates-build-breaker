<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Release and Deploy | SonarQube Quality Gates Build Breaker</title>
    <meta name="description" content="SonarQube Build Breaker tool, designed to fail CI b=pipelines builds if SonarQube analysis not passed">
    <link rel="icon" href="/sonar-quality-gates-build-breaker/favicon.ico">
    
    <link rel="preload" href="/sonar-quality-gates-build-breaker/assets/css/0.styles.bb1a6eb6.css" as="style"><link rel="preload" href="/sonar-quality-gates-build-breaker/assets/js/app.175edfaa.js" as="script"><link rel="preload" href="/sonar-quality-gates-build-breaker/assets/js/2.9789fd05.js" as="script"><link rel="preload" href="/sonar-quality-gates-build-breaker/assets/js/6.b41e1a85.js" as="script"><link rel="prefetch" href="/sonar-quality-gates-build-breaker/assets/js/3.8892b0b0.js"><link rel="prefetch" href="/sonar-quality-gates-build-breaker/assets/js/4.e66e6425.js"><link rel="prefetch" href="/sonar-quality-gates-build-breaker/assets/js/5.4f226132.js"><link rel="prefetch" href="/sonar-quality-gates-build-breaker/assets/js/7.f0b2a395.js"><link rel="prefetch" href="/sonar-quality-gates-build-breaker/assets/js/8.b298e960.js">
    <link rel="stylesheet" href="/sonar-quality-gates-build-breaker/assets/css/0.styles.bb1a6eb6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/sonar-quality-gates-build-breaker/" class="home-link router-link-active"><!----> <span class="site-name">SonarQube Quality Gates Build Breaker</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/sonar-quality-gates-build-breaker/" class="nav-link">Home</a></div><div class="nav-item"><a href="/sonar-quality-gates-build-breaker/write-custom-maven-plugin/" class="nav-link">Write custom maven plugin</a></div><div class="nav-item"><a href="/sonar-quality-gates-build-breaker/release-and-deploy/" class="nav-link router-link-exact-active router-link-active">Release and deploy</a></div> <a href="https://github.com/daggerok/sonar-quality-gates-build-breaker" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/sonar-quality-gates-build-breaker/" class="nav-link">Home</a></div><div class="nav-item"><a href="/sonar-quality-gates-build-breaker/write-custom-maven-plugin/" class="nav-link">Write custom maven plugin</a></div><div class="nav-item"><a href="/sonar-quality-gates-build-breaker/release-and-deploy/" class="nav-link router-link-exact-active router-link-active">Release and deploy</a></div> <a href="https://github.com/daggerok/sonar-quality-gates-build-breaker" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/sonar-quality-gates-build-breaker/" class="sidebar-link">Home</a></li><li><a href="/sonar-quality-gates-build-breaker/write-custom-maven-plugin/" class="sidebar-link">Write custom maven plugin</a></li><li><a href="/sonar-quality-gates-build-breaker/release-and-deploy/" class="active sidebar-link">Release and Deploy</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/sonar-quality-gates-build-breaker/release-and-deploy/#versions" class="sidebar-link">Versions</a></li><li class="sidebar-sub-header"><a href="/sonar-quality-gates-build-breaker/release-and-deploy/#publish-artifacts-locally" class="sidebar-link">Publish artifacts locally</a></li><li class="sidebar-sub-header"><a href="/sonar-quality-gates-build-breaker/release-and-deploy/#release-github-tag" class="sidebar-link">Release github tag</a></li><li class="sidebar-sub-header"><a href="/sonar-quality-gates-build-breaker/release-and-deploy/#publish-artifacts-to-github" class="sidebar-link">Publish artifacts to github</a></li><li class="sidebar-sub-header"><a href="/sonar-quality-gates-build-breaker/release-and-deploy/#upload-github-release" class="sidebar-link">Upload Github release</a></li><li class="sidebar-sub-header"><a href="/sonar-quality-gates-build-breaker/release-and-deploy/#publish-artifacts-to-bintray-jcenter" class="sidebar-link">Publish artifacts to bintray jcenter</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="release-and-deploy"><a href="#release-and-deploy" aria-hidden="true" class="header-anchor">#</a> Release and Deploy</h1> <p>Here are some notes, about how to publish or deploy locally or remotely to github / bintray jcenter <a href="https://bintray.com/daggerok/maven/sonar-quality-gates-build-breaker/_latestVersion" target="_blank" rel="noopener noreferrer"><img src="https://api.bintray.com/packages/daggerok/maven/sonar-quality-gates-build-breaker/images/download.svg" alt="Download"> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p></p><div class="table-of-contents"><ul><li><a href="#versions">Versions</a></li><li><a href="#publish-artifacts-locally">Publish artifacts locally</a></li><li><a href="#release-github-tag">Release github tag</a></li><li><a href="#publish-artifacts-to-github">Publish artifacts to github</a></li><li><a href="#upload-github-release">Upload Github release</a></li><li><a href="#publish-artifacts-to-bintray-jcenter">Publish artifacts to bintray jcenter</a></li></ul></div><p></p> <h2 id="versions"><a href="#versions" aria-hidden="true" class="header-anchor">#</a> Versions</h2> <p>First of all, if you just wanna increment version, you can do it with <code>versions-maven-plugin</code> like so:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>mvn build-helper:parse-version versions:set -DnewVersion<span class="token operator">=</span><span class="token punctuation">\</span><span class="token variable">${parsedVersion.majorVersion}</span>.<span class="token punctuation">\</span><span class="token variable">${parsedVersion.minorVersion}</span>.<span class="token punctuation">\</span><span class="token variable">${parsedVersion.nextIncrementalVersion}</span> versions:commit
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-cmd line-numbers-mode"><pre class="language-text"><code>mvn build-helper:parse-version versions:set -DnewVersion=${parsedVersion.majorVersion}.${parsedVersion.minorVersion}.${parsedVersion.nextIncrementalVersion} versions:commit
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><em>example</em></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>mvn build-helper:parse-version versions:set -DnewVersion<span class="token operator">=</span><span class="token number">1.2</span>.3-SNAPSHOT versions:commit
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="publish-artifacts-locally"><a href="#publish-artifacts-locally" aria-hidden="true" class="header-anchor">#</a> Publish artifacts locally</h2> <div class="tip custom-block"><p class="custom-block-title">NOTE</p> <p>See <code>./bin/local-publish.sh</code> script.</p></div> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./mvnw -P local-publish
<span class="token comment"># ...</span>
tree ./target/.m2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Artifacts should be found under <code>./target/m2/repository</code> directory</p> <h2 id="release-github-tag"><a href="#release-github-tag" aria-hidden="true" class="header-anchor">#</a> Release github tag</h2> <div class="tip custom-block"><p class="custom-block-title">NOTE</p> <p>See <code>./bin/local-release.sh</code> script.
In case of failure, see <code>./bin/local-rollback.sh</code> script.</p></div> <p><em>shorter</em></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./mvnw -Plocal-release -B -s .mvn/settings.xml <span class="token punctuation">\</span>
    release:clean release:prepare release:perform
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><em>or more verbosely</em></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./mvnw -DskipTests -Dmaven.deploy.skip<span class="token operator">=</span>true -B -s .mvn/settings.xml <span class="token punctuation">\</span>
  -Darguments<span class="token operator">=</span><span class="token string">&quot;-DskipTests -Dmaven.deploy.skip=true&quot;</span> <span class="token punctuation">\</span>
  -Dresume<span class="token operator">=</span>false -DgenerateReleasePoms<span class="token operator">=</span>false <span class="token punctuation">\</span>
  -DtagNameFormat<span class="token operator">=</span><span class="token string">&quot;@{project.version}&quot;</span> <span class="token punctuation">\</span>
  release:prepare release:perform
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Release should be found on github project repo release page</p> <h2 id="publish-artifacts-to-github"><a href="#publish-artifacts-to-github" aria-hidden="true" class="header-anchor">#</a> Publish artifacts to github</h2> <div class="tip custom-block"><p class="custom-block-title">NOTE</p> <p>See <code>./bin/github-publish.sh</code> script.</p></div> <ul><li>first of all create maven branch on github and remove everything from it. so it will be using as new fresh clean maven
repository</li> <li>secondly prepare your <code>.mvn/settings.xml</code> file (see details in it's comments, you need last one: github):<div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">cp</span> -Rf .mvn/settings.template.xml .mvn/settings.xml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li>finally publish artifacts locally, so next we can upload them to github project repo in maven branch:<div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./mvnw -P local-publish
./mvnw -P github-publish -pl :sonar-quality-gates-build-breaker -s .mvn/settings.xml 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li>To use published artifacts dependencies in your other maven project, add next maven repository in your project pom.xml
file:<div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repository</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>github-maven-repo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>https://github.com/daggerok/sonar-quality-gates-build-breaker/tree/maven/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repository</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul> <div class="tip custom-block"><p class="custom-block-title">NOTE</p> <p>shorter way (one liner command) do everything we have dome before:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">bash</span> ./bin/github-all.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <h2 id="upload-github-release"><a href="#upload-github-release" aria-hidden="true" class="header-anchor">#</a> Upload Github release</h2> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./mvnw clean package
./mvnw -P github-release -pl :sonar-quality-gates-build-breaker
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="publish-artifacts-to-bintray-jcenter"><a href="#publish-artifacts-to-bintray-jcenter" aria-hidden="true" class="header-anchor">#</a> Publish artifacts to bintray jcenter</h2> <div class="tip custom-block"><p class="custom-block-title">NOTE</p> <p>See <code>./bin/bintray-all.sh</code> script.</p></div> <p><em>Workflow</em></p> <ul><li>on each tag trigger publish job</li> <li>job should publish artifacts to own bintray jcenter maven repository</li> <li>after it can be released manually in bintray web UI and synced with maven central</li></ul> <p><em>gpg</em></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>gpg --gen-key
gpg --list-secret-keys
<span class="token comment"># find: 7D2BAF1CF37B13E2069D6956105BD0E739499BDB in putput</span>
gpg --keyserver hkp://pgp.mit.edu --send-keys 7D2BAF1CF37B13E2069D6956105BD0E739499BDB
gpg --keyserver hkp://pgp.mit.edu --recv-keys 7D2BAF1CF37B13E2069D6956105BD0E739499BDB
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><em>avoid prompting gog passphrase</em></p> <p>add according profile</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profile</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>read gpg.passphrase from environment variable<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activation</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>env.GPG_PASSPHRASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activation</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.maven.plugins<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-gpg-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${maven-gpg-plugin.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>executions</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>execution</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>sign-artifacts<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>verify<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goals</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goal</span><span class="token punctuation">&gt;</span></span>sign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goal</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goals</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>execution</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>executions</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>passphrase</span><span class="token punctuation">&gt;</span></span>${env.GPG_PASSPHRASE}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>passphrase</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profile</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p><em>first of all create own bintray jcenter <code>daggerok/maven</code> repository</em></p> <ul><li>Go to https://bintray.com/daggerok</li> <li>Sign in (with GitHub)</li> <li>Click on top right conor icon -&gt; <code>Edit Profile</code></li> <li>Click on repositories -&gt; <code>New Repository</code></li> <li>Enter name: <code>maven</code></li> <li>Select type: <code>Maven</code></li> <li>Select default license: <code>MIT</code></li> <li>Click <code>Create</code></li></ul> <p><em>first time initially (before first publication) you have to create according package for your artifact in your maven
repository</em></p> <ul><li>Goto https://bintray.com/daggerok/maven</li> <li>Click <code>Add New Package</code></li> <li>Enter Name: <code>sonar-quality-gates-build-breaker</code></li> <li>Enter description...</li> <li>Select <code>Licences</code>, <code>Tags</code>, <code>Maturity</code></li> <li>Enter Website: <code>https://daggerok.github.io/sonar-quality-gates-build-breaker/</code></li> <li>Enter Issues tracker: <code>https://github.com/daggerok/sonar-quality-gates-build-breaker</code></li> <li>Enter Version control: <code>https://github.com/daggerok/sonar-quality-gates-build-breaker.git</code></li> <li>Check <code>Make download numbers in stats public</code></li> <li>Click <code>Create Package</code></li> <li>Enter GitHub repo (user/repo): <code>daggerok/sonar-quality-gates-build-breaker</code></li> <li>Click <code>Update Package</code></li> <li>Enter GitHub release notes file: <code>CHANGELOG.md</code></li> <li>Click <code>Update Package</code></li> <li>Verify popup notification: <code>Package sonar-quality-gates-build-breaker was updated</code></li></ul> <p><em>secondly update settings.xml file accordingly: <code>//servers/server/bintray-daggerok-daggerok</code> password =&gt; bintray API key</em></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">vi</span> .mvn/settings.xml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><em>add <code>distributionManagement</code> section in your pom.xml</em></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>distributionManagement</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repository</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>bintray-daggerok-maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>daggerok-maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>https://api.bintray.com/maven/daggerok/maven/sonar-quality-gates-build-breaker/;publish=1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repository</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>distributionManagement</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><em>finally, once repository was created and everything else needed has been done, publish artifacts to your personal
bintray jcenter maven repository</em></p> <p><em>more verbosely</em></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./mvnw release:prepare release:perform -B -s .mvn/settings.xml <span class="token punctuation">\</span>
  -DskipTests -Darguments<span class="token operator">=</span><span class="token string">&quot;-DskipTests&quot;</span> <span class="token punctuation">\</span>
  -DtagNameFormat<span class="token operator">=</span><span class="token string">&quot;@{project.version}&quot;</span> <span class="token punctuation">\</span>
  -DautoVersionSubmodules<span class="token operator">=</span>true <span class="token punctuation">\</span>
  -DgenerateReleasePoms<span class="token operator">=</span>false <span class="token punctuation">\</span>
  -DpreparationGoals<span class="token operator">=</span><span class="token string">&quot;clean&quot;</span> <span class="token punctuation">\</span>
  -DcompletionGoals<span class="token operator">=</span><span class="token string">&quot;clean&quot;</span> <span class="token punctuation">\</span>
  -Dresume<span class="token operator">=</span>false
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><em>easiest way to release locally</em></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">GPG_PASSPHRASE</span><span class="token operator">=</span>MyGpgPassPhraseForSonarBreaker <span class="token function">bash</span> ./bin/bintray-all.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/24/2019, 10:59:16 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/sonar-quality-gates-build-breaker/write-custom-maven-plugin/" class="prev">Write custom maven plugin</a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/sonar-quality-gates-build-breaker/assets/js/app.175edfaa.js" defer></script><script src="/sonar-quality-gates-build-breaker/assets/js/2.9789fd05.js" defer></script><script src="/sonar-quality-gates-build-breaker/assets/js/6.b41e1a85.js" defer></script>
  </body>
</html>
